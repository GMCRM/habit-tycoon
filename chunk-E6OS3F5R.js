import{A as b,Aa as Y,B as C,Ba as J,C as _,G as y,Ha as K,K as O,L as S,Q as k,R as T,S as I,T as L,U as E,V,X as F,Y as G,ca as z,d as c,e as g,ea as W,fa as N,h as m,i as u,ia as A,j as x,ka as B,l as f,la as D,m as t,ma as R,n as r,o as M,p as P,q as h,s as v,ta as j,va as U,w as i,ya as q,za as H}from"./chunk-7BOSYXOY.js";import"./chunk-EQMUS7GP.js";import"./chunk-G4GOZ2R2.js";import"./chunk-QLV7WNCT.js";import"./chunk-33BWIX5B.js";import"./chunk-GSXUNAQW.js";import"./chunk-6F2JRA2A.js";import"./chunk-EGVB773T.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{j as p}from"./chunk-VI73JOY6.js";var ie=(()=>{let l=class l{constructor(o,n,e,a){this.authService=o,this.router=n,this.toastController=e,this.alertController=a,this.email="",this.password=""}ngOnInit(){}onGoogleLogin(){return p(this,null,function*(){console.log("\u{1F504} Starting Google OAuth login...");try{let o=yield this.authService.signInWithGoogle();if(o.error){console.error("\u274C Google login failed:",o.error),yield(yield this.toastController.create({message:"Google login failed: "+(o.error?.message||"Unknown error"),duration:3e3,position:"top",color:"danger"})).present();return}console.log("\u2705 Google OAuth initiated successfully")}catch(o){console.error("\u274C Unexpected Google login error:",o),yield(yield this.toastController.create({message:"Unexpected error during Google login: "+o,duration:3e3,position:"top",color:"danger"})).present()}})}onLogin(){return p(this,null,function*(){try{let o=yield this.authService.signIn(this.email,this.password);console.log("Logged in user:",o),yield(yield this.toastController.create({message:"\u{1F389} Login successful! Welcome back!",duration:2e3,position:"top",color:"success"})).present(),this.router.navigate(["/home"])}catch(o){console.error("Login failed:",o),yield(yield this.toastController.create({message:"\u274C Login failed: "+o.message,duration:3e3,position:"top",color:"danger"})).present()}})}onForgotPassword(){return p(this,null,function*(){yield(yield this.alertController.create({header:"Reset Password",message:"Enter your email address to receive a password reset link.",inputs:[{name:"email",type:"email",placeholder:"Email address",value:this.email}],buttons:[{text:"Cancel",role:"cancel"},{text:"Send Reset Link",handler:n=>p(this,null,function*(){if(!n.email||!n.email.trim())return yield(yield this.toastController.create({message:"Please enter a valid email address",duration:3e3,position:"top",color:"warning"})).present(),!1;try{let e=yield this.authService.resetPassword(n.email.trim());return e.error?(yield(yield this.toastController.create({message:"Failed to send reset email: "+e.error?.message||"Unknown error",duration:4e3,position:"top",color:"danger"})).present(),!1):(yield(yield this.toastController.create({message:"\u2709\uFE0F Password reset link sent! Check your email.",duration:5e3,position:"top",color:"success"})).present(),!0)}catch(e){return console.error("Password reset failed:",e),yield(yield this.toastController.create({message:"Failed to send reset email: "+e.message,duration:4e3,position:"top",color:"danger"})).present(),!1}})}]})).present()})}};l.\u0275fac=function(n){return new(n||l)(u(K),u(O),u(H),u(q))},l.\u0275cmp=x({type:l,selectors:[["app-login"]],decls:39,vars:5,consts:[["loginForm","ngForm"],[3,"translucent"],[1,"ion-padding",3,"fullscreen"],[1,"login-container"],[1,"welcome-section"],[1,"login-card"],["expand","block","fill","outline",1,"google-btn",3,"click"],["name","logo-google","slot","start"],[1,"divider"],[3,"ngSubmit"],["position","floating"],["type","email","name","email","required","","maxlength","100",3,"ngModelChange","ngModel"],["type","password","name","password","required","","maxlength","100",3,"ngModelChange","ngModel"],["expand","block","type","submit",1,"login-btn",3,"disabled"],[1,"forgot-password"],["fill","clear","size","small",3,"click"],[1,"signup-section"],["routerLink","/sign-up"]],template:function(n,e){if(n&1){let a=P();t(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),i(3,"\u{1F4B0} Habit Tycoon"),r()()(),t(4,"ion-content",2)(5,"div",3)(6,"div",4)(7,"h1"),i(8,"Welcome Back!"),r(),t(9,"p"),i(10,"Sign in to continue building your habit empire"),r()(),t(11,"ion-card",5)(12,"ion-card-content")(13,"ion-button",6),h("click",function(){return c(a),g(e.onGoogleLogin())}),M(14,"ion-icon",7),i(15," Continue with Google "),r(),t(16,"div",8)(17,"span"),i(18,"or"),r()(),t(19,"form",9,0),h("ngSubmit",function(){return c(a),g(e.onLogin())}),t(21,"ion-item")(22,"ion-label",10),i(23,"Email Address"),r(),t(24,"ion-input",11),_("ngModelChange",function(s){return c(a),C(e.email,s)||(e.email=s),g(s)}),r()(),t(25,"ion-item")(26,"ion-label",10),i(27,"Password"),r(),t(28,"ion-input",12),_("ngModelChange",function(s){return c(a),C(e.password,s)||(e.password=s),g(s)}),r()(),t(29,"ion-button",13),i(30," Sign In "),r()(),t(31,"div",14)(32,"ion-button",15),h("click",function(){return c(a),g(e.onForgotPassword())}),i(33," Forgot your password? "),r()(),t(34,"div",16)(35,"p"),i(36,"New to Habit Tycoon?"),r(),t(37,"a",17),i(38,"Create Account"),r()()()()()()}if(n&2){let a=v(20);f("translucent",!0),m(4),f("fullscreen",!0),m(20),b("ngModel",e.email),m(4),b("ngModel",e.password),m(),f("disabled",!a.form.valid)}},dependencies:[A,B,j,U,J,z,D,R,W,N,Y,y,G,E,k,T,V,F,L,I,S],styles:['.login-container[_ngcontent-%COMP%]{padding-top:40px;max-width:400px;margin:0 auto}.welcome-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--ion-color-primary);margin:0 0 8px;text-shadow:0 0 8px rgba(255,215,0,.3)}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;font-size:1rem;margin:0}.login-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e3f,#16213e);border:1px solid rgba(255,215,0,.3);border-radius:12px;box-shadow:0 4px 16px #0000004d;margin-bottom:20px}.login-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:24px}.google-btn[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95);--background-hover: rgba(255, 255, 255, 1);--color: #5f6368;--border-color: rgba(255, 255, 255, .2);--border-width: 1px;--border-style: solid;height:48px;font-weight:500;text-transform:none;margin-bottom:20px}.google-btn[_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, 1);transform:translateY(-1px);box-shadow:0 4px 12px #0003}.google-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#4285f4;font-size:18px}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin:24px 0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e1e3f,#16213e);padding:0 20px;color:#fff9;font-size:16px;font-weight:500;position:relative;z-index:2}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#fff3;z-index:1}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: rgba(255, 255, 255, .2);--color: white;--placeholder-color: rgba(255, 255, 255, .5);margin-bottom:16px;border-radius:8px}ion-item.item-has-focus[_ngcontent-%COMP%]{--border-color: var(--ion-color-primary);--highlight-color: var(--ion-color-primary)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{--color: rgba(255, 255, 255, .7)}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color: white;--placeholder-color: rgba(255, 255, 255, .5)}.login-btn[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--background-hover: var(--ion-color-primary-shade);--color: var(--ion-color-primary-contrast);height:48px;font-weight:600;text-transform:none;margin-top:20px;box-shadow:0 0 10px #ffd7004d}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 2px 15px #ffd70066}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.5}.forgot-password[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: rgba(255, 255, 255, .7);font-size:.9rem}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: var(--ion-color-primary)}.signup-section[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding-top:20px;border-top:1px solid rgba(255,255,255,.1)}.signup-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffb3;font-size:.9rem;margin:0 0 8px}.signup-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:600;font-size:.9rem}.signup-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']});let w=l;return w})();export{ie as LoginPage};
