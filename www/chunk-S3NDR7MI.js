import{a as re}from"./chunk-QLJGHDOI.js";import{B as ie,E as ne,O as se,a as Q,ba as oe,d as X,i as Z,l as ee,n as te}from"./chunk-IGBCOJ5F.js";import{Aa as K,F as A,G as L,Ha as le,K as B,L as H,ca as F,d as D,e as k,ea as M,fa as N,ga as O,h as r,ha as V,i as y,ia as Y,j as U,k as b,ka as W,l as d,la as j,m as s,ma as q,n as t,o as v,p as C,q as f,r as p,ta as z,va as G,w as n,x as w,y as u,za as J}from"./chunk-MCTHTYWV.js";import"./chunk-EQMUS7GP.js";import"./chunk-G4GOZ2R2.js";import"./chunk-QLV7WNCT.js";import"./chunk-33BWIX5B.js";import"./chunk-GSXUNAQW.js";import"./chunk-6F2JRA2A.js";import"./chunk-EGVB773T.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{j as h}from"./chunk-VI73JOY6.js";function ce(l,g){if(l&1){let i=C();s(0,"ion-button",27),f("click",function(){D(i);let a=p();return k(a.logout())}),v(1,"ion-icon",28),n(2," Logout "),t()}}function de(l,g){if(l&1&&(s(0,"span"),n(1),t()),l&2){let i=p(2);r(),u(" with $",i.userProfile==null?null:i.userProfile.cash," cash")}}function ue(l,g){if(l&1&&(s(0,"div",29)(1,"ion-card",30)(2,"ion-card-content")(3,"h2"),n(4),t(),s(5,"p"),n(6," You're successfully logged in "),b(7,de,2,1,"span",31),t()()()()),l&2){let i=p();r(4),u(" \u{1F389} Welcome back, ",(i.userProfile==null?null:i.userProfile.name)||(i.currentUser.user_metadata==null?null:i.currentUser.user_metadata.name)||i.currentUser.email,"! "),r(3),d("ngIf",(i.userProfile==null?null:i.userProfile.cash)!==void 0)}}function me(l,g){if(l&1){let i=C();s(0,"div",32)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),n(4,"\u{1F464} Your Profile Data"),t()(),s(5,"ion-card-content")(6,"div",33)(7,"p")(8,"strong"),n(9,"User ID:"),t(),n(10),t(),s(11,"p")(12,"strong"),n(13,"Email:"),t(),n(14),t(),s(15,"p")(16,"strong"),n(17,"Auth Name:"),t(),n(18),t(),s(19,"p")(20,"strong"),n(21,"Profile Name:"),t(),n(22),t(),s(23,"p")(24,"strong"),n(25,"Cash:"),t(),n(26),t(),s(27,"p")(28,"strong"),n(29,"Net Worth:"),t(),n(30),t(),s(31,"p")(32,"strong"),n(33,"Created:"),t(),n(34),t()(),s(35,"div",34)(36,"ion-button",35),f("click",function(){D(i);let a=p();return k(a.deleteAccount())}),n(37," \u{1F5D1}\uFE0F Delete Account "),t(),s(38,"ion-button",36),f("click",function(){D(i);let a=p();return k(a.refreshProfile())}),n(39," \u{1F504} Refresh Profile "),t()()()()()}if(l&2){let i=p();r(10),u(" ",i.currentUser.id),r(4),u(" ",i.currentUser.email),r(4),u(" ",(i.currentUser.user_metadata==null?null:i.currentUser.user_metadata.name)||"Not set"," "),r(4),u(" ",(i.userProfile==null?null:i.userProfile.name)||"Loading..."," "),r(4),u(" $",(i.userProfile==null?null:i.userProfile.cash)||"Loading..."," "),r(4),u(" $",(i.userProfile==null?null:i.userProfile.net_worth)||"Loading..."," "),r(4),u(" ",(i.userProfile==null?null:i.userProfile.created_at)||"Loading..."," ")}}function ge(l,g){if(l&1&&(s(0,"p"),n(1),t()),l&2){let i=p(2);r(),u(" Error: ",i.dbTestResult.error.message||i.dbTestResult.error," ")}}function he(l,g){if(l&1&&(s(0,"div",37)(1,"ion-item",38),v(2,"ion-icon",39),s(3,"ion-label")(4,"h3"),n(5),t(),b(6,ge,2,1,"p",31),t()()()),l&2){let i=p();r(),d("color",i.dbTestResult.success?"success":"danger"),r(),d("name",i.dbTestResult.success?"checkmark-circle":"alert-circle"),r(3),w(i.dbTestResult.message),r(),d("ngIf",!i.dbTestResult.success&&i.dbTestResult.error)}}function fe(l,g){if(l&1&&(s(0,"p"),n(1),t()),l&2){let i=p(2);r(),u(" Active session found! User: ",i.authTestResult.sessionInfo==null?null:i.authTestResult.sessionInfo.user," ")}}function pe(l,g){l&1&&(s(0,"p"),n(1," No active session (user not logged in) "),t())}function ve(l,g){if(l&1&&(s(0,"p"),n(1),t()),l&2){let i=p(2);r(),u(" Error: ",i.authTestResult.error.message||i.authTestResult.error," ")}}function _e(l,g){if(l&1&&(s(0,"div",37)(1,"ion-item",38),v(2,"ion-icon",39),s(3,"ion-label")(4,"h3"),n(5),t(),b(6,fe,2,1,"p",31)(7,pe,2,0,"p",31)(8,ve,2,1,"p",31),t()()()),l&2){let i=p();r(),d("color",i.authTestResult.success?"success":"danger"),r(),d("name",i.authTestResult.success?"checkmark-circle":"alert-circle"),r(3),w(i.authTestResult.message),r(),d("ngIf",i.authTestResult.success&&i.authTestResult.hasActiveSession),r(),d("ngIf",i.authTestResult.success&&!i.authTestResult.hasActiveSession),r(),d("ngIf",!i.authTestResult.success&&i.authTestResult.error)}}function be(l,g){if(l&1&&(s(0,"span"),n(1),t()),l&2){let i=p(3);r(),u(" Dividend Change: $",i.dividendTestResult.details.dividendsDifference.toFixed(2)," ")}}function Te(l,g){if(l&1&&(s(0,"p"),n(1),v(2,"br"),n(3),v(4,"br"),b(5,be,2,1,"span",31),t()),l&2){let i=p(2);r(),u(" Test Habit: ",i.dividendTestResult.details.testHabit),r(2),u(" Holdings: ",i.dividendTestResult.details.holdingsCount||i.dividendTestResult.details.specificHoldings),r(2),d("ngIf",i.dividendTestResult.details.dividendsDifference!==void 0)}}function Se(l,g){if(l&1&&(s(0,"p"),n(1),t()),l&2){let i=p(2);r(),u(" Error: ",i.dividendTestResult.error.message||i.dividendTestResult.error," ")}}function xe(l,g){if(l&1&&(s(0,"div",37)(1,"ion-item",38),v(2,"ion-icon",39),s(3,"ion-label")(4,"h3"),n(5),t(),b(6,Te,6,3,"p",31)(7,Se,2,1,"p",31),t()()()),l&2){let i=p();r(),d("color",i.dividendTestResult.success?"success":"danger"),r(),d("name",i.dividendTestResult.success?"checkmark-circle":"alert-circle"),r(3),w(i.dividendTestResult.message),r(),d("ngIf",i.dividendTestResult.details),r(),d("ngIf",!i.dividendTestResult.success&&i.dividendTestResult.error)}}var Ae=(()=>{let g=class g{constructor(e,a,o,c){this.authService=e,this.habitBusinessService=a,this.router=o,this.toastController=c,this.dbTestResult=null,this.authTestResult=null,this.isTestingDb=!1,this.isTestingAuth=!1,this.isTestingDividends=!1,this.isFixingStockPrices=!1,this.isFixingLemonadeStocks=!1,this.isAddingMoney=!1,this.currentUser=null,this.userProfile=null,this.dividendTestResult=null,Q({checkmarkCircle:te,alertCircle:X,refresh:se,logOut:ne,home:ie,cash:ee,cafe:Z,wallet:oe}),this.loadCurrentUser()}loadCurrentUser(){return h(this,null,function*(){try{let{data:{user:e}}=yield this.authService.getUser();if(console.log("Current user from auth:",e),this.currentUser=e,e)try{console.log("Attempting to load profile for user ID:",e.id),this.userProfile=yield this.authService.getUserProfile(e.id),console.log("Loaded user profile:",this.userProfile)}catch(a){console.error("Profile loading failed:",a);try{console.log("Attempting to create profile manually..."),yield this.authService.createUserProfile(e.id,e.email,e.user_metadata?.name||e.email.split("@")[0]),this.userProfile=yield this.authService.getUserProfile(e.id),console.log("Created and loaded profile:",this.userProfile)}catch(o){console.error("Profile creation failed:",o)}}}catch{console.log("No user logged in")}})}testDatabaseConnection(){return h(this,null,function*(){this.isTestingDb=!0,this.dbTestResult=null;try{this.dbTestResult=yield this.authService.testConnection()}catch(e){this.dbTestResult={success:!1,message:"Test failed",error:e}}this.isTestingDb=!1})}testAuthSystem(){return h(this,null,function*(){this.isTestingAuth=!0,this.authTestResult=null;try{this.authTestResult=yield this.authService.testAuthConnection()}catch(e){this.authTestResult={success:!1,message:"Auth test failed",error:e}}this.isTestingAuth=!1})}runAllTests(){return h(this,null,function*(){yield this.testDatabaseConnection(),yield this.testAuthSystem()})}logout(){return h(this,null,function*(){try{yield this.authService.signOut(),alert("\u{1F44B} Successfully logged out!"),this.router.navigate(["/login"])}catch(e){alert("\u274C Logout failed: "+e.message)}})}refreshProfile(){return h(this,null,function*(){yield this.loadCurrentUser(),alert("\u{1F504} Profile refreshed!")})}forceCreateProfile(){return h(this,null,function*(){try{console.log("\u{1F504} Force creating profile...");let e=yield this.authService.forceCreateCurrentUserProfile();console.log("\u2705 Profile force created:",e),yield this.loadCurrentUser(),alert(`\u2705 Profile created successfully!

Name: `+e.name+`
Cash: $`+e.cash+`
Net Worth: $`+e.net_worth)}catch(e){console.error("\u274C Force profile creation failed:",e),alert("\u274C Profile creation failed: "+e)}})}checkAllProfiles(){return h(this,null,function*(){console.log("\u{1F50D} Checking all profiles in database...");try{let e=yield this.authService.getAllProfiles();console.log("All profiles found:",e);let a=yield this.authService.getAllAuthUsers();console.log("All auth users found:",a);let{data:{user:o}}=yield this.authService.getUser();console.log("Current auth user:",o);let c="";e&&e.length>0&&(c=e.map(_=>{let S=o&&_.id===o.id?" (THIS IS YOU!)":"";return`ID: ${_.id}${S}
Email: ${_.email}
Name: ${_.name}
Cash: $${_.cash}
Created: ${_.created_at}`}).join(`

`));let m=o?`
Current User ID: ${o.id}
Current User Email: ${o.email}`:`
No current user logged in`;alert(`Found ${e?.length||0} profiles and ${a?.length||0} auth users.

Profile Details:
${c}${m}

Check console for more details.`)}catch(e){console.error("Error checking profiles:",e),alert("Error checking profiles: "+e)}})}deleteAccount(){return h(this,null,function*(){if(!this.currentUser){alert("No user logged in");return}if(confirm(`Are you sure you want to PERMANENTLY delete your account?

This will:
- Delete your profile data
- Delete your authentication account
- Sign you out completely
- Cannot be undone

Continue?`))try{console.log("\u{1F5D1}\uFE0F Starting complete account deletion..."),console.log("Calling server-side delete function...");let{error:a}=yield this.authService.deleteAuthUser();a?(console.error("\u274C Server-side deletion failed:",a),console.log("Falling back to profile deletion only..."),yield this.authService.deleteUserProfile(this.currentUser.id),yield this.authService.signOut(),localStorage.clear(),sessionStorage.clear(),this.currentUser=null,this.userProfile=null,alert(`Profile deleted and signed out successfully!

Note: Complete auth account deletion failed. You may be able to log in again.

For complete deletion, contact support or delete manually from Supabase dashboard.`)):(console.log("\u2705 Complete account deletion successful"),localStorage.clear(),sessionStorage.clear(),this.currentUser=null,this.userProfile=null,alert("Account completely deleted! You cannot log in with these credentials anymore.")),this.router.navigate(["/login"])}catch(a){console.error("\u274C Account deletion failed:",a),alert("Account deletion failed: "+a)}})}debugHabitBusinesses(){return h(this,null,function*(){if(!this.currentUser){alert("No user logged in");return}try{console.log("\u{1F50D} Debugging habit businesses...");let e=yield this.habitBusinessService.getUserHabitBusinesses(this.currentUser.id);console.log("All habit businesses:",e);let a=yield this.habitBusinessService.checkUserHabitsNeedReset(this.currentUser.id);console.log("Habits needing reset:",a);let o=yield this.habitBusinessService.getTodaysActualEarnings(this.currentUser.id);console.log("Today's actual earnings:",o);let c=`Found ${e.length} habit businesses:

`;e.forEach(m=>{c+=`${m.business_name} (${m.frequency}):
`,c+=`  Progress: ${m.current_progress||0}/${m.goal_value||1}
`,c+=`  Last completed: ${m.last_completed_at||"never"}
`,c+=`  Streak: ${m.streak||0}
`,c+=`  Earnings per completion: $${m.earnings_per_completion}

`}),c+=`Today's actual earnings: $${o}

`,a.length>0?(c+=`Habits needing reset: ${a.length}
`,a.forEach(m=>{c+=`  ${m.business_name} (last completed: ${m.last_completed_date})
`})):c+=`No habits need reset.
`,alert(c)}catch(e){console.error("Error debugging habit businesses:",e),alert("Error debugging habit businesses: "+e)}})}testResetOutdatedHabits(){return h(this,null,function*(){try{console.log("\u{1F504} Testing reset outdated habits function..."),yield this.habitBusinessService.resetOutdatedDailyHabits(),alert("Reset function completed! Check console for details.")}catch(e){console.error("Error testing reset function:",e),alert("Error testing reset function: "+e)}})}testDividendProcessing(){return h(this,null,function*(){if(!this.currentUser){yield this.showToast("No user logged in","danger");return}this.isTestingDividends=!0,this.dividendTestResult=null;try{console.log("\u{1F9EA} Testing dividend processing...");let e=yield this.habitBusinessService.getDividendSystemDebugInfo(this.currentUser.id);if(console.log("\u{1F4CA} Dividend system debug info:",e),e.userHoldings.length===0){console.log("\u{1F4A1} No stock holdings found. Creating test dividend..."),yield this.habitBusinessService.createTestDividend(this.currentUser.id,7.5);let a=yield this.habitBusinessService.getTodaysStockDividends(this.currentUser.id);this.dividendTestResult={success:!0,message:"Test dividend created successfully",details:{testType:"Created test dividend (no holdings)",testAmount:7.5,newTotalDividends:a,userHoldings:e.userHoldings.length,ownedBusinessStocks:e.ownedBusinessStocks.length,recentDistributions:e.recentDividendDistributions.length}}}else{let a=yield this.habitBusinessService.getUserHabitBusinesses(this.currentUser.id);if(console.log("Found habits:",a),a.length===0)throw new Error("No habit businesses found for testing");let o=a[0];console.log("Testing with habit:",o);let m=(yield this.habitBusinessService.getAvailableStocks(this.currentUser.id)).find(T=>T.habit_business_id===o.id);if(!m)throw new Error("No stock information found for test habit");console.log("Stock info:",m);let _=e.userHoldings.filter(T=>T.stock_id===m.id);console.log("Holdings for this stock:",_);let S=e.todaysDividends;if(console.log("Dividends before test:",S),_.length>0){console.log("\u{1F527} Running manual dividend processing test..."),yield this.habitBusinessService.processDividendsManually(o.id,o.earnings_per_completion,m.id);let T=yield this.habitBusinessService.getTodaysStockDividends(this.currentUser.id);console.log("Dividends after test:",T),this.dividendTestResult={success:!0,message:"Dividend processing test completed",details:{testHabit:o.business_name,stockId:m.id,holdingsCount:_.length,dividendsBefore:S,dividendsAfter:T,dividendsDifference:T-S,userHoldings:e.userHoldings.length,ownedBusinessStocks:e.ownedBusinessStocks.length}}}else this.dividendTestResult={success:!1,message:"No stockholders found for testing - creating test dividend instead",details:{testHabit:o.business_name,stockId:m.id,allHoldings:e.userHoldings.length,specificHoldings:_.length,ownedBusinessStocks:e.ownedBusinessStocks.length}},yield this.habitBusinessService.createTestDividend(this.currentUser.id,12.34)}yield this.showToast("Dividend test completed - check console for details","success")}catch(e){console.error("\u274C Dividend test failed:",e),this.dividendTestResult={success:!1,message:`Test failed: ${e?.message||"Unknown error"}`,details:{error:e}},yield this.showToast(`Dividend test failed: ${e?.message||"Unknown error"}`,"danger")}finally{this.isTestingDividends=!1}})}showToast(e,a="success"){return h(this,null,function*(){yield(yield this.toastController.create({message:e,duration:3e3,color:a,position:"top"})).present()})}fixStockPrices(){return h(this,null,function*(){this.isFixingStockPrices=!0;try{console.log("\u{1F527} Starting stock price fix..."),yield this.habitBusinessService.fixAllStockPrices(),yield this.showToast("\u2705 All stock prices have been updated!","success"),console.log("\u2705 Stock price fix completed successfully")}catch(e){console.error("\u274C Stock price fix failed:",e),yield this.showToast(`\u274C Failed to fix stock prices: ${e?.message||"Unknown error"}`,"danger")}finally{this.isFixingStockPrices=!1}})}fixLemonadeStockPrices(){return h(this,null,function*(){this.isFixingLemonadeStocks=!0;try{console.log("\u{1F34B} Starting lemonade stock price fix..."),yield this.habitBusinessService.fixLemonadeStockPrices(),yield this.showToast("\u{1F34B} Lemonade stock prices fixed! ($100 \u2192 $1)","success"),console.log("\u2705 Lemonade stock price fix completed successfully")}catch(e){console.error("\u274C Lemonade stock price fix failed:",e),yield this.showToast(`\u274C Failed to fix lemonade prices: ${e?.message||"Unknown error"}`,"danger")}finally{this.isFixingLemonadeStocks=!1}})}addTestMoney(){return h(this,null,function*(){this.isAddingMoney=!0;try{if(console.log("\u{1F4B0} Starting add test money process..."),!this.currentUser)throw new Error("User not authenticated");console.log("\u{1F4CA} Fetching current profile from database...");let e=yield this.authService.getUserProfile(this.currentUser.id);console.log("\u{1F4CA} Current profile data:",e);let a=e?.cash||0,o=a+1e6;console.log(`\u{1F4B0} Current cash: $${a.toLocaleString()}, adding $1,000,000 = new cash: $${o.toLocaleString()}`),console.log("\u{1F3E2} Calculating business value for net worth...");let c=0;try{let{data:x,error:P}=yield this.authService.supabase.from("habit_businesses").select(`
            id, 
            business_type_id,
            business_types(base_cost)
          `).eq("user_id",this.currentUser.id);if(P)throw console.error("\u274C Business query error:",P),P;x&&x.length>0?(console.log(`\u{1F3E2} Found ${x.length} businesses:`,x),c=x.reduce((ae,I)=>{let $=I.business_types?.base_cost||0,R=$*.7;return console.log(`  - Business ${I.id}: base_cost=${$}, value=${R}`),ae+R},0),console.log(`\u{1F3E2} Total business value: $${c.toLocaleString()}`)):console.log("\u{1F3E2} No businesses found for user")}catch(x){console.error("\u26A0\uFE0F Error calculating business value:",x)}let m=o+c;console.log(`\u{1F4C8} Calculated net worth: $${o.toLocaleString()} (cash) + $${c.toLocaleString()} (business) = $${m.toLocaleString()}`),console.log("\u{1F4BE} Updating database (cash and net worth)...");let{data:_,error:S}=yield this.authService.supabase.from("user_profiles").update({cash:o,net_worth:m,updated_at:new Date().toISOString()}).eq("id",this.currentUser.id).select();if(S)throw console.error("\u274C Database update error:",S),S;console.log("\u2705 Database update result:",_),console.log("\u{1F504} Refreshing profile data..."),yield this.loadCurrentUser();let T=this.userProfile?.cash||0,E=this.userProfile?.net_worth||0;console.log(`\u2705 Updated profile - Cash: $${T.toLocaleString()}, Net Worth: $${E.toLocaleString()}`),yield this.showToast(`\u{1F4B0} Added $1M! Cash: $${T.toLocaleString()}, Net Worth: $${E.toLocaleString()} \u{1F680}`,"success"),console.log("\u2705 Test money operation completed successfully")}catch(e){console.error("\u274C Failed to add test money:",e),yield this.showToast(`\u274C Failed to add test money: ${e?.message||"Unknown error"}`,"danger")}finally{this.isAddingMoney=!1}})}};g.\u0275fac=function(a){return new(a||g)(y(le),y(re),y(B),y(J))},g.\u0275cmp=U({type:g,selectors:[["app-dev-tools"]],decls:113,vars:20,consts:[[3,"translucent"],["slot","end","fill","clear","routerLink","/home"],["name","home","slot","start"],["slot","end","fill","clear",3,"click",4,"ngIf"],[1,"ion-padding",3,"fullscreen"],[1,"test-container"],["class","welcome-message ion-margin-bottom",4,"ngIf"],["class","profile-debug ion-margin-bottom",4,"ngIf"],["expand","full","color","primary",1,"ion-margin-bottom",3,"click"],["name","refresh","slot","start"],["fill","outline",3,"click","disabled"],["class","test-result ion-margin-top",4,"ngIf"],[1,"instructions"],["expand","block","fill","outline","color","warning",3,"click"],["expand","block","fill","outline","color","tertiary",3,"click"],["expand","block","fill","solid","color","success",3,"click"],["expand","block","color","danger",3,"click"],["expand","block","fill","outline","color","primary",3,"click"],["expand","block","fill","outline","color","secondary",3,"click"],["expand","block","fill","solid","color","success",1,"ion-margin-bottom",3,"click","disabled"],["name","wallet","slot","start"],["expand","block","fill","outline","color","warning",3,"click","disabled"],["name","cash","slot","start"],["expand","block","fill","outline","color","primary",1,"ion-margin-top",3,"click","disabled"],["name","trending-up","slot","start"],["expand","block","fill","solid","color","success",1,"ion-margin-top",3,"click","disabled"],["name","cafe","slot","start"],["slot","end","fill","clear",3,"click"],["name","log-out","slot","start"],[1,"welcome-message","ion-margin-bottom"],["color","success"],[4,"ngIf"],[1,"profile-debug","ion-margin-bottom"],[1,"profile-info"],[1,"profile-actions","ion-margin-top"],["color","danger","fill","outline",3,"click"],["color","warning","fill","outline",3,"click"],[1,"test-result","ion-margin-top"],[3,"color"],["slot","start",3,"name"]],template:function(a,o){a&1&&(s(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n(3,"\u{1F527} Developer Tools"),t(),s(4,"ion-button",1),v(5,"ion-icon",2),n(6," Home "),t(),b(7,ce,3,0,"ion-button",3),t()(),s(8,"ion-content",4)(9,"div",5),b(10,ue,8,2,"div",6)(11,me,40,7,"div",7),s(12,"h1"),n(13,"\u{1F9EA} Database Connection Tests"),t(),s(14,"p"),n(15," Use these tests to verify your Supabase database is working correctly: "),t(),s(16,"ion-button",8),f("click",function(){return o.runAllTests()}),v(17,"ion-icon",9),n(18," Run All Tests "),t(),s(19,"ion-card")(20,"ion-card-header")(21,"ion-card-title"),n(22,"Database Connection"),t()(),s(23,"ion-card-content")(24,"p"),n(25,"Tests basic connectivity to your Supabase database."),t(),s(26,"ion-button",10),f("click",function(){return o.testDatabaseConnection()}),v(27,"ion-icon",9),n(28),t(),b(29,he,7,4,"div",11),t()(),s(30,"ion-card")(31,"ion-card-header")(32,"ion-card-title"),n(33,"Authentication System"),t()(),s(34,"ion-card-content")(35,"p"),n(36,"Tests the Supabase authentication system and current session."),t(),s(37,"ion-button",10),f("click",function(){return o.testAuthSystem()}),v(38,"ion-icon",9),n(39),t(),b(40,_e,9,6,"div",11),t()(),s(41,"ion-card")(42,"ion-card-header")(43,"ion-card-title"),n(44,"Next Steps"),t()(),s(45,"ion-card-content")(46,"div",12)(47,"h4"),n(48,"\u2705 If tests pass:"),t(),s(49,"p"),n(50,"Your database is connected! You can now:"),t(),s(51,"ul")(52,"li"),n(53,"Try signing up a new user"),t(),s(54,"li"),n(55,"Test logging in with those credentials"),t(),s(56,"li"),n(57,"Check your Supabase dashboard for new users"),t()(),s(58,"h4"),n(59,"\u274C If tests fail:"),t(),s(60,"p"),n(61,"Check these common issues:"),t(),s(62,"ul")(63,"li"),n(64,"Verify your Supabase URL and API key"),t(),s(65,"li"),n(66,"Check your internet connection"),t(),s(67,"li"),n(68,"Ensure your Supabase project is active"),t(),s(69,"li"),n(70,"Verify RLS (Row Level Security) settings"),t()()()()(),s(71,"ion-card")(72,"ion-card-header")(73,"ion-card-title"),n(74,"\u{1F527} Debug Tools"),t()(),s(75,"ion-card-content")(76,"ion-button",13),f("click",function(){return o.checkAllProfiles()}),n(77," Check All Profiles in Database "),t(),s(78,"ion-button",14),f("click",function(){return o.refreshProfile()}),n(79," Refresh My Profile "),t(),s(80,"ion-button",15),f("click",function(){return o.forceCreateProfile()}),n(81," \u{1F527} Force Create/Fix My Profile "),t(),s(82,"ion-button",16),f("click",function(){return o.deleteAccount()}),n(83," Delete My Account "),t()()(),s(84,"ion-card")(85,"ion-card-header")(86,"ion-card-title"),n(87,"\u{1F3E2} Habit Business Debug"),t()(),s(88,"ion-card-content")(89,"ion-button",17),f("click",function(){return o.debugHabitBusinesses()}),n(90," \u{1F50D} Debug My Habit Businesses "),t(),s(91,"ion-button",18),f("click",function(){return o.testResetOutdatedHabits()}),n(92," \u{1F504} Test Reset Outdated Habits "),t()()(),s(93,"ion-card")(94,"ion-card-header")(95,"ion-card-title"),n(96,"\u{1F4B0} Stock Dividend Debug"),t()(),s(97,"ion-card-content")(98,"p"),n(99,"Test and debug the stock dividend payout system."),t(),s(100,"ion-button",19),f("click",function(){return o.addTestMoney()}),v(101,"ion-icon",20),n(102),t(),s(103,"ion-button",21),f("click",function(){return o.testDividendProcessing()}),v(104,"ion-icon",22),n(105),t(),s(106,"ion-button",23),f("click",function(){return o.fixStockPrices()}),v(107,"ion-icon",24),n(108),t(),s(109,"ion-button",25),f("click",function(){return o.fixLemonadeStockPrices()}),v(110,"ion-icon",26),n(111),t(),b(112,xe,8,5,"div",11),t()()()()),a&2&&(d("translucent",!0),r(7),d("ngIf",o.currentUser),r(),d("fullscreen",!0),r(2),d("ngIf",o.currentUser),r(),d("ngIf",o.currentUser),r(15),d("disabled",o.isTestingDb),r(2),u(" ",o.isTestingDb?"Testing...":"Test Database"," "),r(),d("ngIf",o.dbTestResult),r(8),d("disabled",o.isTestingAuth),r(2),u(" ",o.isTestingAuth?"Testing...":"Test Auth"," "),r(),d("ngIf",o.authTestResult),r(60),d("disabled",o.isAddingMoney),r(2),u(" ",o.isAddingMoney?"Adding...":"Add $1,000,000 Test Money \u{1F4B0}"," "),r(),d("disabled",o.isTestingDividends),r(2),u(" ",o.isTestingDividends?"Testing...":"Test Dividend Processing"," "),r(),d("disabled",o.isFixingStockPrices),r(2),u(" ",o.isFixingStockPrices?"Fixing...":"Fix All Stock Prices"," "),r(),d("disabled",o.isFixingLemonadeStocks),r(2),u(" ",o.isFixingLemonadeStocks?"Fixing...":"Fix Lemonade Stock Prices ($100 \u2192 $1)"," "),r(),d("ngIf",o.dividendTestResult))},dependencies:[W,G,z,Y,F,M,N,O,V,j,q,K,L,A,H],styles:[".test-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.welcome-message[_ngcontent-%COMP%]{text-align:center}.profile-debug[_ngcontent-%COMP%]{margin-bottom:2rem}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-family:Courier New,monospace;font-size:.9rem}.profile-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.test-result[_ngcontent-%COMP%]{margin-top:1rem}.instructions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-top:1rem;margin-bottom:.5rem}.instructions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:1rem}.instructions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.25rem}"]});let l=g;return l})();export{Ae as DevToolsPage};
