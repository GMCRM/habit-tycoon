import{a as Q}from"./chunk-UFL5VKHY.js";import{E as j,F as V,G as U,a as B,b as G,c as E,ca as J,d as Y,e as P,f as R,g as A,h as f,j as H,k,ka as W,l as M,m as D,n as u,p as L,q as O,r as x,t as _,ta as q,u as N,va as K,w as b,x as I,y as v,z}from"./chunk-7BOSYXOY.js";import{j as T}from"./chunk-VI73JOY6.js";var X=(()=>{let p=class p{constructor(){this.updateSubject=new B(null),this.updates$=this.updateSubject.asObservable()}getLocalDateString(e=new Date){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${o}`}emitHabitCompletion(e,t=this.getLocalDateString()){console.log("\u{1F4E1} Emitting habit completion event:",{habitBusinessId:e,completionDate:t}),this.updateSubject.next({type:"completion",habitBusinessId:e,completionDate:t,timestamp:Date.now()})}emitHabitUndo(e,t=this.getLocalDateString()){console.log("\u{1F4E1} Emitting habit undo event:",{habitBusinessId:e,completionDate:t}),this.updateSubject.next({type:"undo",habitBusinessId:e,completionDate:t,timestamp:Date.now()})}clearUpdate(){this.updateSubject.next(null)}};p.\u0275fac=function(t){return new(t||p)},p.\u0275prov=G({token:p,factory:p.\u0275fac,providedIn:"root"});let h=p;return h})();function ee(h,p){if(h&1&&(D(0,"ion-header")(1,"ion-toolbar",11)(2,"ion-title",12)(3,"span",13),b(4),u(),b(5),u()()()),h&2){let s=x();f(4),I(s.businessEmoji),f(),z(" ",s.businessName," - ",s.currentYear," Progress ")}}function te(h,p){if(h&1&&(D(0,"span",14),b(1),u()),h&2){let s=p.$implicit;_("grid-column",s.column+" / span "+s.span),f(),v(" ",s.name," ")}}function ne(h,p){if(h&1){let s=L();D(0,"div",15),O("click",function(){let t=Y(s).$implicit,n=x();return P(n.onDayClick(t))}),u()}if(h&2){let s=p.$implicit,e=x();_("background-color",e.getDayColor(s))("border-color",e.getDayBorderColor(s))("opacity",s.level===0?.2:1),N("no-data",s.level===0)("missed",s.level===1)("completed",s.level===2)("streak-milestone",s.level===3)("is-today",e.isToday(s.date))("future-year",e.isFutureYear(s.date))("first-of-month",e.isFirstOfMonth(s.date))}}function oe(h,p){if(h&1&&(D(0,"div",16)(1,"div",17)(2,"span",18),b(3),u(),D(4,"span",19),b(5,"Completed"),u()(),D(6,"div",17)(7,"span",18),b(8),u(),D(9,"span",19),b(10,"Success Rate"),u()(),D(11,"div",17)(12,"span",18),b(13),u(),D(14,"span",19),b(15,"Current Streak"),u()(),D(16,"div",17)(17,"span",18),b(18),u(),D(19,"span",19),b(20,"Longest Streak"),u()()()),h&2){let s=x();f(3),I(s.completedDays),f(5),v("",(s.completionRate*100).toFixed(0),"%"),f(5),I(s.currentStreak),f(5),I(s.longestStreak)}}function ie(h,p){if(h&1&&(D(0,"div",20)(1,"p"),b(2,"\u{1F4CA} Debug Info:"),u(),D(3,"p"),b(4),u(),D(5,"p"),b(6),u(),D(7,"p"),b(8),u(),D(9,"p"),b(10),u()()),h&2){let s=x();f(4),v("Business ID: ",s.businessId),f(2),v("Data Points: ",s.data.length),f(2),v("Grid Days: ",s.gridDays.length),f(2),v("Using Real Data: ",s.usingRealData?"\u2705 Yes":"\u274C No (Mock)")}}function ae(h,p){if(h&1){let s=L();D(0,"div",21)(1,"ion-button",22),O("click",function(){Y(s);let t=x();return P(t.closeModal())}),b(2," Close "),u()()}}var be=(()=>{let p=class p{constructor(){this.data=[],this.businessId="",this.businessName="",this.businessEmoji="\u{1F4C8}",this.businessType="",this.businessCreatedAt="",this.showStats=!0,this.weeksToShow=53,this.size="medium",this.isModal=!1,this.isStockView=!1,this.useCalendarYear=!1,this.currentMonthOffset=0,this.showMonthView=!0,this.gridDays=[],this.monthLabels=[],this.weeks=53,this.currentYear=new Date().getFullYear(),this.isMobileScreen=!1,this.totalDays=0,this.completedDays=0,this.completionRate=0,this.currentStreak=0,this.longestStreak=0,this.usingRealData=!1,this.isDebugMode=!1,this.habitBusinessService=E(Q),this.habitUpdateService=E(X),this.businessColors={"\u{1F34B}":"#FFD700","\u{1F4F0}":"#F5F5F5","\u{1F9FD}":"#87CEEB","\u{1F6CD}\uFE0F":"#FFB6C1","\u{1F355}":"#FF6347","\u{1F331}":"#90EE90","\u{1F3B5}":"#DDA0DD","\u{1F4BB}":"#00CED1","\u{1F3C3}":"#FF4500","\u{1F4DA}":"#4169E1","\u{1F3A8}":"#DA70D6","\u{1F415}":"#DEB887","\u{1F370}":"#F0E68C","\u{1F9F9}":"#D3D3D3","\u{1F697}":"#708090"}}ngOnInit(){console.log("\u{1F3AF} HabitGrid ngOnInit - businessId:",this.businessId,"data length:",this.data.length),this.checkScreenSize(),this.setupRealTimeUpdates(),this.loadData()}ngOnChanges(e){(e.data||e.businessId||e.weeksToShow)&&(console.log("\u{1F504} HabitGrid data changed, regenerating grid"),this.loadData())}ngOnDestroy(){this.updateSubscription&&this.updateSubscription.unsubscribe()}onResize(e){this.checkScreenSize()}checkScreenSize(){let e=this.isMobileScreen;this.isMobileScreen=window.innerWidth<=768,e!==this.isMobileScreen&&(console.log("\u{1F4F1} Screen size changed - Mobile:",this.isMobileScreen),this.generateGrid())}setupRealTimeUpdates(){this.updateSubscription=this.habitUpdateService.updates$.subscribe(e=>{!e||!this.businessId||e.habitBusinessId===this.businessId&&(console.log("\u{1F525} Real-time update received for habit:",this.businessId,"Type:",e.type),this.applyRealTimeUpdate(e))})}applyRealTimeUpdate(e){let t=this.getLocalDateString(),n=e.completionDate||t;console.log("\u{1F4CA} Applying real-time update:",{type:e.type,date:n,businessId:e.habitBusinessId,todayCalculated:t,eventCompletionDate:e.completionDate});let o=this.gridDays.map(a=>a.date).slice(0,10);console.log("\u{1F4C5} First 10 grid dates:",o),console.log("\u{1F4C5} Last 10 grid dates:",this.gridDays.map(a=>a.date).slice(-10));let i=this.gridDays.findIndex(a=>a.date===t),l=this.gridDays.findIndex(a=>a.date===n);console.log("\u{1F4CD} Today index in grid:",i,"Update date index:",l),i>=0&&console.log("\u{1F4C5} Grid context around today:",{yesterday:this.gridDays[i-1]?.date,today:this.gridDays[i]?.date,tomorrow:this.gridDays[i+1]?.date});let r=!1;for(let a of this.gridDays)if(a.date===n){console.log("\u{1F3AF} Found matching grid cell:",{date:a.date,currentLevel:a.level,currentCompleted:a.completed}),e.type==="completion"?(a.completed=!0,a.level=2,console.log("\u2705 Updated grid cell for completion:",n)):e.type==="undo"&&(a.completed=!1,a.level=1,a.streakDay=0,console.log("\u21A9\uFE0F Updated grid cell for undo:",n)),r=!0;break}r?(this.calculateStats(),console.log("\u{1F4C8} Grid updated in real-time! Completed days:",this.completedDays)):(console.warn("\u26A0\uFE0F Could not find grid cell for date:",n),console.warn("\u26A0\uFE0F Available dates in grid:",this.gridDays.length,"total dates"),console.warn("\u26A0\uFE0F Date range:",this.gridDays[0]?.date,"to",this.gridDays[this.gridDays.length-1]?.date))}getLocalDateString(e=new Date){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${o}`}getLocalDateStringFromDate(e){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${o}`}trackByDate(e,t){return t.date}isToday(e){let t=this.getLocalDateString();return e===t}isFirstOfMonth(e){return new Date(e+"T12:00:00").getDate()===1}isFutureYear(e){if(this.isMobileScreen){let t=new Date(e+"T12:00:00"),n=new Date,o=n.getMonth(),i=n.getFullYear(),l=o-1,r=i;l<0&&(l+=12,r-=1);let a=o+1,d=i;a>11&&(a-=12,d+=1);let c=new Date(r,l,1),m=new Date(d,a+1,0);return t<c||t>m}else{let t=new Date().getFullYear(),n=new Date(t,0,1),o=new Date(t,11,31),i=new Date(e+"T12:00:00");return i<n||i>o}}isFutureDate(e){let t=new Date(e+"T12:00:00"),n=new Date;return n.setHours(23,59,59,999),t>n}isBeforeCreationDate(e){if(!this.businessCreatedAt)return!1;let t=new Date(e+"T12:00:00"),n=new Date(this.businessCreatedAt);return t<n}onDayClick(e){e.level!==0&&console.log("\u{1F4C5} Clicked day:",e.date,"Completed:",e.completed,"Streak:",e.streakDay)}closeModal(){return T(this,null,function*(){this.modalController&&(yield this.modalController.dismiss())})}getCurrentMonthName(){let e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=new Date;return t.setMonth(t.getMonth()+this.currentMonthOffset),e[t.getMonth()]}getCurrentYear(){let e=new Date;return e.setMonth(e.getMonth()+this.currentMonthOffset),e.getFullYear()}goToPreviousMonth(){this.currentMonthOffset--,this.loadData()}goToNextMonth(){this.currentMonthOffset++,this.loadData()}goToCurrentMonth(){this.currentMonthOffset=0,this.loadData()}toggleView(){console.log("\u{1F504} TOGGLE VIEW:",{from:this.showMonthView?"Month":"Year",to:this.showMonthView?"Year":"Month"}),this.showMonthView=!this.showMonthView,this.showMonthView?(this.currentMonthOffset=0,console.log("\u{1F4C5} Switched to MONTH view - should show current month")):console.log("\u{1F4CA} Switched to YEAR view - should show full year"),this.loadData()}getYearMonths(){let e=this.getCurrentYear(),t=[],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let o=0;o<12;o++){let i=new Date(e,o,1),r=new Date(e,o+1,0).getDate(),a=i.getDay(),d=[];for(let g=0;g<a;g++){let y=new Date(e,o,0-(a-1-g));d.push({dayNumber:y.getDate(),date:this.getLocalDateStringFromDate(y),inMonth:!1,completed:!1,level:0})}let c=0;for(let g=1;g<=r;g++){let y=new Date(e,o,g),w=this.getLocalDateStringFromDate(y),C=this.data.find($=>$.date===w),F=C?.completed||!1;F&&c++,d.push({dayNumber:g,date:w,inMonth:!0,completed:F,level:C?C.completed?2:1:0})}let S=42-d.length;for(let g=1;g<=S;g++){let y=new Date(e,o+1,g);d.push({dayNumber:g,date:this.getLocalDateStringFromDate(y),inMonth:!1,completed:!1,level:0})}t.push({name:n[o],days:d,completedDays:c,totalDays:r})}return t}getGridTemplateColumns(){return"repeat("+this.weeks+", 12px)"}getDayNumber(e){return new Date(e+"T00:00:00").getDate()}isCurrentMonth(e){let t=new Date(e+"T00:00:00"),n=new Date;return n.setMonth(n.getMonth()+this.currentMonthOffset),t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}getBusinessColor(){let e=this.businessColors[this.businessEmoji];if(e)return e;let t=this.businessName.toLowerCase(),n=this.businessType.toLowerCase();return t.includes("lemon")||n.includes("lemon")?"#FFD700":t.includes("paper")||n.includes("paper")?"#F5F5F5":t.includes("car")||t.includes("wash")?"#87CEEB":t.includes("retail")||t.includes("store")?"#FFB6C1":t.includes("pizza")||t.includes("food")?"#FF6347":t.includes("garden")||t.includes("plant")?"#90EE90":t.includes("music")||t.includes("lesson")?"#DDA0DD":t.includes("tech")||t.includes("computer")?"#00CED1":t.includes("fitness")||t.includes("gym")?"#FF4500":t.includes("tutor")||t.includes("teach")?"#4169E1":t.includes("art")||t.includes("paint")?"#DA70D6":t.includes("pet")||t.includes("dog")?"#DEB887":t.includes("bak")||t.includes("cake")?"#F0E68C":t.includes("clean")?"#D3D3D3":t.includes("driv")||t.includes("car")?"#708090":"#FFD700"}getDayColor(e){if(e.level===0)return"rgba(255, 255, 255, 0.05)";if(this.isFirstOfMonth(e.date)){if(e.level===1)return"rgba(147, 112, 219, 0.15)";if(e.level===2){let t=this.getBusinessColor();return this.mixColors(t,"#6495ED",.3)}else if(e.level===3){let t=this.getBusinessColor();return this.mixColors(t,"#4169E1",.4)}else return"rgba(100, 149, 237, 0.1)"}return e.level===1?"rgba(150, 150, 150, 0.05)":e.level===2?"rgba(255, 255, 255, 0.08)":e.level===3?"rgba(255, 255, 255, 0.12)":"rgba(255, 255, 255, 0.05)"}getDayBorderColor(e){if(e.level===0)return"rgba(255, 255, 255, 0.05)";if(e.level===1)return"rgba(150, 150, 150, 0.3)";let t=this.getBusinessColor();return e.level===2?this.hexToRgba(t,.8):e.level===3?t:"rgba(255, 255, 255, 0.1)"}hexToRgba(e,t){e=e.replace("#","");let n=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return`rgba(${n}, ${o}, ${i}, ${t})`}mixColors(e,t,n){let o=this.hexToRgb(e),i=this.hexToRgb(t),l=.7,r=.3,a=Math.round(o.r*l+i.r*r),d=Math.round(o.g*l+i.g*r),c=Math.round(o.b*l+i.b*r);return`rgba(${a}, ${d}, ${c}, ${n})`}hexToRgb(e){return e=e.replace("#",""),{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}}loadData(){return T(this,null,function*(){try{if(console.log("\u{1F50D} Loading habit grid data for businessId:",this.businessId),console.log("\u{1F50D} BusinessId type:",typeof this.businessId,"Length:",this.businessId?.length),console.log("\u{1F50D} Stock view mode:",this.isStockView),this.businessId){console.log("\u{1F4E1} Fetching real habit completion history...");let e;if(this.isStockView?(console.log("\u{1F4C8} Using stock completion history method"),e=yield this.habitBusinessService.getHabitCompletionHistoryForStock(this.businessId,365)):(console.log("\uFFFD Using regular completion history method"),e=yield this.habitBusinessService.getHabitCompletionHistory(this.businessId,365)),console.log("\u{1F4E5} Received completion history:",e.length,"days"),console.log("\u{1F4CA} Sample completion data:",e.slice(0,10)),e&&e.length>0){this.data=e,this.usingRealData=!0,console.log("\u2705 Using real data with",this.data.length,"data points");let t=this.data.filter(n=>n.completed).length;console.log("\u{1F3AF} Found",t,"completed days out of",this.data.length,"total days")}else console.warn("\u26A0\uFE0F No completion history found for business:",this.businessId),this.data=[],this.usingRealData=!1}else console.log("\u{1F3B2} No businessId provided - grid will show empty state"),this.data=[],this.usingRealData=!1;this.generateGrid(),this.calculateStats()}catch(e){console.error("\u274C Error loading habit grid data:",e),console.log("\u{1F4DD} Using empty data due to error"),this.data=[],this.usingRealData=!1,this.generateGrid(),this.calculateStats()}})}generateMockData(){console.log("\u{1F6AB} Mock data generation disabled - use real habit completion data only"),this.data=[]}generateGrid(){console.log("\u{1F3D7}\uFE0F Generating habit grid with",this.data.length,"data points"),console.log("\u{1F4F1} Mobile screen:",this.isMobileScreen),console.log("\u2699\uFE0F WeeksToShow input:",this.weeksToShow),this.gridDays=[],this.monthLabels=[];let e=new Date().getFullYear(),t=new Date,n=this.getLocalDateString(t),o=this.weeksToShow,i,l;if(this.useCalendarYear){let r=t.getFullYear();i=new Date(r,0,1),l=new Date(r,11,31);let a=i.getDay();i.setDate(i.getDate()-a);let d=l.getDay(),c=d===6?0:6-d;l.setDate(l.getDate()+c);let m=l.getTime()-i.getTime();o=Math.ceil(m/(1e3*3600*24*7)),console.log("\u{1F4C5} Calendar year mode:",{calendarStart:new Date(r,0,1).toDateString(),calendarEnd:new Date(r,11,31).toDateString(),gridStart:i.toDateString(),gridEnd:l.toDateString(),weeksCalculated:o})}else{let r=o*7,a=Math.floor(r/2);i=new Date(t),i.setDate(t.getDate()-a);let c=(i.getDay()+6)%7;i.setDate(i.getDate()-c),l=new Date(i),l.setDate(i.getDate()+o*7-1),console.log("\u{1F4C5} Dynamic range calculation:",{weeksToShow:this.weeksToShow,totalDays:r,startDate:this.getLocalDateStringFromDate(i),endDate:this.getLocalDateStringFromDate(l),mondayStart:i.getDay()===1?"Yes":"No (day: "+i.getDay()+")"})}this.checkAndClearNewYearData(e),console.log(`\u{1F4C5} Grid will show ${o} weeks (${this.weeksToShow} weeks requested)`),this.generateMonthLabels(i,o,i,l);for(let r=0;r<o;r++)for(let a=0;a<7;a++){let d=new Date(i.getFullYear(),i.getMonth(),i.getDate()+r*7+a),c=this.getLocalDateStringFromDate(d),m=this.data.find(w=>w.date===c),S=d>=i&&d<=l,g=0;S?m?m.completed?g=m.streak_day>=7?3:2:g=1:(d>t,g=0):g=0;let y=this.businessCreatedAt&&c===this.getLocalDateStringFromDate(new Date(this.businessCreatedAt));if(this.gridDays.push({date:c,completed:m?.completed||!1,streakDay:m?.streak_day||0,level:g,isInCalendarYear:S,isCreatedDate:y||!1}),r===0){let w=a===0&&d.getDay()===1;console.log(`\u{1F50D} Week 0, Day ${a}: ${c} = ${d.toLocaleDateString("en-US",{weekday:"short"})} (${d.getDay()}) ${w?"\u2705 Monday start":""}`)}}this.weeks=o,console.log("\u2705 Generated grid with",this.gridDays.length,"days"),console.log("\u{1F4C5} Grid covers:",i.toDateString(),"to",l.toDateString())}checkAndClearNewYearData(e){(this.data.length>0?new Date(this.data[this.data.length-1].date).getFullYear():e)<e&&(console.log("\u{1F5D3}\uFE0F New year detected! Clearing old year data for fresh start"),this.data=[])}generateMonthLabels(e,t=this.weeksToShow,n,o){if(this.monthLabels=[],n&&o){let l=n.getMonth(),r=n.getFullYear(),a=o.getMonth(),d=o.getFullYear(),c=l,m=r;for(;m<d||m===d&&c<=a;){let S=new Date(m,c,1),g=this.getLocalDateStringFromDate(S),y=-1;for(let w=0;w<t;w++){for(let C=0;C<7;C++){let F=new Date(e);if(F.setDate(e.getDate()+w*7+C),this.getLocalDateStringFromDate(F)===g){y=w+1;break}}if(y!==-1)break}if(y!==-1){let w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.monthLabels.push({name:w[c],column:y,span:1})}c++,c>11&&(c=0,m++)}}else{let l=new Date().getFullYear();for(let r=0;r<12;r++){let a=new Date(l,r,1),d=this.getLocalDateStringFromDate(a),c=-1;for(let m=0;m<t;m++){for(let S=0;S<7;S++){let g=new Date(e);if(g.setDate(e.getDate()+m*7+S),this.getLocalDateStringFromDate(g)===d){c=m+1;break}}if(c!==-1)break}if(c!==-1){let m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.monthLabels.push({name:m[r],column:c,span:1})}}}console.log("\u{1F4C5} Month labels positioned above 1st day columns:",this.monthLabels)}calculateStats(){let e=this.getLocalDateString(),t=this.data.filter(o=>o.date<=e);this.totalDays=t.length,this.completedDays=t.filter(o=>o.completed).length,this.completionRate=this.totalDays>0?this.completedDays/this.totalDays:0,this.currentStreak=0;for(let o=t.length-1;o>=0&&t[o].completed;o--)this.currentStreak++;this.longestStreak=0;let n=0;for(let o of t)o.completed?(n++,this.longestStreak=Math.max(this.longestStreak,n)):n=0;console.log("\u{1F4CA} Grid stats calculated:",{totalDays:this.totalDays,completedDays:this.completedDays,completionRate:(this.completionRate*100).toFixed(1)+"%",currentStreak:this.currentStreak,longestStreak:this.longestStreak})}};p.\u0275fac=function(t){return new(t||p)},p.\u0275cmp=H({type:p,selectors:[["app-habit-grid"]],hostBindings:function(t,n){t&1&&O("resize",function(i){return n.onResize(i)},A)},inputs:{data:"data",businessId:"businessId",businessName:"businessName",businessEmoji:"businessEmoji",businessType:"businessType",businessCreatedAt:"businessCreatedAt",showStats:"showStats",weeksToShow:"weeksToShow",size:"size",isModal:"isModal",modalController:"modalController",isStockView:"isStockView",useCalendarYear:"useCalendarYear"},features:[R],decls:12,vars:13,consts:[[4,"ngIf"],[1,"content-wrapper"],[1,"habit-grid-container"],[1,"grid-header"],[1,"month-labels"],["class","month-label",3,"grid-column",4,"ngFor","ngForOf"],[1,"habit-grid"],["class","grid-day",3,"no-data","missed","completed","streak-milestone","is-today","future-year","first-of-month","background-color","border-color","opacity","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","grid-stats",4,"ngIf"],["class","debug-info",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"custom-toolbar"],[1,"grid-title"],[1,"business-emoji"],[1,"month-label"],[1,"grid-day",3,"click"],[1,"grid-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"debug-info"],[1,"modal-footer"],["expand","block","fill","clear","color","medium",1,"close-button",3,"click"]],template:function(t,n){t&1&&(k(0,ee,6,3,"ion-header",0),D(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4),k(6,te,2,3,"span",5),u()(),D(7,"div",6),k(8,ne,1,20,"div",7),u(),k(9,oe,21,4,"div",8),u(),k(10,ie,11,4,"div",9)(11,ae,3,0,"div",10),u()()),t&2&&(M("ngIf",n.isModal),f(),N("modal-content",n.isModal),f(4),_("grid-template-columns","repeat("+n.weeks+", 12px)"),f(),M("ngForOf",n.monthLabels),f(),_("grid-template-columns",n.getGridTemplateColumns()),f(),M("ngForOf",n.gridDays)("ngForTrackBy",n.trackByDate),f(),M("ngIf",n.showStats),f(),M("ngIf",n.isDebugMode),f(),M("ngIf",n.isModal))},dependencies:[U,j,V,W,K,q,J],styles:["@media (max-width: 1299px){[_nghost-%COMP%]{display:none!important}}@media (min-width: 1300px){[_nghost-%COMP%]{display:block}.habit-grid-container[_ngcontent-%COMP%]{background:#0000004d;border:1px solid rgba(255,215,0,.2);border-radius:12px;padding:8px;margin:0;width:fit-content;max-width:none;overflow:visible;display:inline-block}.month-labels[_ngcontent-%COMP%]{font-size:11px}.grid-day[_ngcontent-%COMP%]{width:12px;height:12px}}.custom-toolbar[_ngcontent-%COMP%]{--background: rgba(0, 0, 0, .95);--color: #fff;border-bottom:1px solid rgba(255,215,0,.3)}.grid-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#fff}.business-emoji[_ngcontent-%COMP%]{font-size:1.3rem;margin-right:8px}.close-icon[_ngcontent-%COMP%]{color:#fff!important;font-size:1.4rem;filter:drop-shadow(0 0 2px rgba(0,0,0,.8))}ion-button[fill=clear][_ngcontent-%COMP%]{--color: #fff !important;--background: rgba(255, 255, 255, .1);--border-radius: 8px}ion-button[fill=clear][_ngcontent-%COMP%]:hover{--background: rgba(255, 255, 255, .2)}.content-wrapper[_ngcontent-%COMP%]{padding:8px}.modal-content[_ngcontent-%COMP%]{padding:20px;background:#000000f2;color:#fff;height:100%;overflow-y:auto;overflow-x:auto}.grid-header[_ngcontent-%COMP%]{margin-bottom:8px}.month-labels[_ngcontent-%COMP%]{display:grid;gap:2px;font-size:10px;color:#fff9;margin-bottom:8px;overflow:visible;width:fit-content;align-items:baseline;height:14px}.month-label[_ngcontent-%COMP%]{text-align:center;font-weight:500;line-height:1;display:flex;align-items:center;justify-content:center;height:100%}.habit-grid[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(7,12px);grid-auto-flow:column;gap:2px;margin-bottom:12px;overflow:visible;width:fit-content}.grid-day[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px;cursor:pointer;transition:all .2s ease;border:1px solid rgba(255,255,255,.1);position:relative}.grid-day.future-year[_ngcontent-%COMP%]{visibility:hidden}.grid-day[_ngcontent-%COMP%]:hover{transform:scale(1.3);z-index:10;border-width:2px}.grid-day.is-today[_ngcontent-%COMP%]{border:2px solid #FFD700;box-shadow:0 0 4px #ffd70099}.grid-day.first-of-month[_ngcontent-%COMP%]{border:1px solid rgba(100,149,237,.5)!important;box-shadow:0 0 2px #6495ed4d}.day-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:18px;font-weight:700;z-index:5;pointer-events:none;text-shadow:0 0 2px rgba(0,0,0,.8)}.debug-info[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#ffffff0d;border:1px solid rgba(255,215,0,.2);border-radius:8px;font-size:11px;color:#ffffffb3}.debug-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.grid-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-around;border-top:1px solid rgba(255,215,0,.2);background:#ffffff05;border-radius:8px;margin-top:8px;padding:16px}.stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2px}.stat-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:gold}.stat-label[_ngcontent-%COMP%]{font-size:9px;color:#fff9;text-transform:uppercase;letter-spacing:.5px}"]});let h=p;return h})();export{X as a,be as b};
